(this.webpackJsonpanimales=this.webpackJsonpanimales||[]).push([[0],{49:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(43),i=a.n(c),o=(a(49),a(17)),s=a(4),j=a(15),l=a(89),d=a(90),b=a(22),h=a(24),u=a(14),O=a.n(u),x=a(10),m=a.n(x),f=a(1);var p=function(e){var t=Object(s.f)();return Object(f.jsxs)(l.a,{children:[Object(f.jsx)(j.b,{to:"/animales/crear",children:Object(f.jsx)(b.a,{icon:h.c})}),Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Acciones"}),Object(f.jsx)("th",{children:"Tipo"}),Object(f.jsx)("th",{children:"Nombre"}),Object(f.jsx)("th",{children:"Color"}),Object(f.jsx)("th",{children:"Tama\xf1o"})]})}),Object(f.jsx)("tbody",{children:e.datos.map((function(a,n){return Object(f.jsxs)("tr",{children:[Object(f.jsxs)("td",{children:[Object(f.jsx)(d.a,{color:"primary",style:{margin:"2px"},onClick:function(e){return n=a._id,void t.push("/animales/ver/"+n);var n},children:Object(f.jsx)(b.a,{icon:h.a})}),Object(f.jsx)(d.a,{color:"secondary",style:{margin:"2px"},onClick:function(e){return n=a._id,void t.push("/animales/modificar/"+n);var n},children:Object(f.jsx)(b.a,{icon:h.b})}),Object(f.jsx)(d.a,{color:"danger",style:{margin:"2px"},onClick:function(t){return n=a._id,void m.a.fire({title:"Eliminar animal",text:"\xbfEst\xe1 seguro que desea eliminar el animal?",icon:"warning",showCancelButton:!0}).then((function(t){t.value&&O.a.delete("/api/animales/"+n).then((function(t){var a=e.datos.filter((function(e){return e._id!==n}));e.setDatos(a)})).catch((function(e){return m.a.fire("Error al obtener los datos","Ha ocurrido un problema al intentar eliminar el animal","error")}))}));var n},children:Object(f.jsx)(b.a,{icon:h.d})})]}),Object(f.jsx)("td",{children:a.tipo}),Object(f.jsx)("td",{children:a.nombre}),Object(f.jsx)("td",{children:a.color}),Object(f.jsx)("td",{children:a.tamanio}),Object(f.jsx)("td",{children:a.fecha?new Date(a.fecha).toUTCString():""})]},n)}))})]})]})},v=a(92),g=a(19),C=a(21),y=a(91),E=a(93),w=a(94),D=a(95),S=a(96),T={nombre:"",tipo:"",color:"",tamanio:"",fecha:new Date},k=function(e){var t=Object(s.f)(),a=Object(s.g)().id,r=Object(n.useState)(T),c=Object(o.a)(r,2),i=c[0],j=c[1],b=Object(n.useState)([]),h=Object(o.a)(b,2),u=h[0],x=h[1],p=function(e){var t=e.target,a=t.name,n=t.value;j(Object(C.a)(Object(C.a)({},i),{},Object(g.a)({},a,n)))},k=function(e){if(console.log(e),e){var t=e.split("-");return new Date(Date.UTC(t[0],t[1]-1,t[2]))}},H=function(e){t.push("/animales")};return Object(n.useEffect)((function(){O.a.get("/api/tipos_animales").then((function(e){return x(e.data.data)})).catch((function(e){return m.a.fire("Error al obtener los datos","Ha ocurrido un problema al intentar obtener el listado tipo de animales","error")})),a&&O.a.get("/api/animales/"+a).then((function(e){return j(e.data.data)})).catch((function(t){return m.a.fire("Error al obtener los datos","Ha ocurrido un problema al intentar obtener el animal con id "+e.id,"error")}))}),[]),Object(f.jsxs)(y.a,{children:[Object(f.jsx)(v.a,{children:Object(f.jsx)("h1",{children:e.ver?"Ver ".concat(i.nombre):e.modificar?"Editar ".concat(i.nombre):"Nuevo animal"})}),Object(f.jsx)(E.a,{onSubmit:function(t){t.preventDefault(),a?function(t){i.fecha=k(i.fecha),O.a.put("/api/animales/"+a,i).then((function(n){var r=e.datos.findIndex((function(e){return e._id===a}));console.log("Index",r),e.datos.splice(r,1,i),e.setDatos(e.datos),H(t)})).catch((function(e){return m.a.fire("Error al obtener los datos","Ha ocurrido un problema al intentar editar el animal","error")}))}():function(t){i.fecha=k(i.fecha),O.a.post("/api/animales",i).then((function(a){a.data&&a.data.data?(H(t),e.setDatos(e.datos.concat([a.data.data]))):m.a.fire("Error de validaci\xf3n",a.data.error.message,"error")})).catch((function(e){return m.a.fire("Error al obtener los datos","Ha ocurrido un problema al intentar crear el animal","error")}))}()},children:Object(f.jsxs)(v.a,{children:[Object(f.jsx)(l.a,{xs:12,children:Object(f.jsxs)(w.a,{children:[Object(f.jsx)(D.a,{for:"tipo",children:"Tipo"}),Object(f.jsxs)(S.a,{type:"select",name:"tipo",value:i.tipo,onChange:p,disabled:e.ver,children:[Object(f.jsx)("option",{children:"Seleccione"}),u&&u.map((function(e,t){return Object(f.jsx)("option",{value:e.codigo,children:e.nombre},t)}))]})]})}),Object(f.jsx)(l.a,{xs:12,children:Object(f.jsxs)(w.a,{children:[Object(f.jsx)(D.a,{for:"nombre",children:"Nombre"}),Object(f.jsx)(S.a,{type:"text",name:"nombre",value:i.nombre,onChange:p,disabled:e.ver})]})}),Object(f.jsx)(l.a,{xs:12,children:Object(f.jsxs)(w.a,{children:[Object(f.jsx)(D.a,{for:"color",children:"Color"}),Object(f.jsx)(S.a,{type:"color",name:"color",value:i.color,onChange:p,disabled:e.ver})]})}),Object(f.jsx)(l.a,{xs:12,children:Object(f.jsxs)(w.a,{children:[Object(f.jsx)(D.a,{for:"tamanio",children:"Tama\xf1o"}),Object(f.jsxs)(S.a,{type:"select",name:"tamanio",value:i.tamanio,onChange:p,disabled:e.ver,children:[Object(f.jsx)("option",{children:"Seleccione"}),Object(f.jsx)("option",{value:"Peque\xf1o",children:"Peque\xf1o"}),Object(f.jsx)("option",{value:"Mediano",children:"Mediano"}),Object(f.jsx)("option",{value:"Grande",children:"Grande"})]})]})}),Object(f.jsx)(l.a,{xs:12,children:Object(f.jsxs)(w.a,{children:[Object(f.jsx)(D.a,{for:"tamanio",children:"Fecha"}),Object(f.jsx)(S.a,{type:"date",name:"fecha",value:i.fecha,onChange:p,disabled:e.ver})]})}),Object(f.jsxs)(l.a,{xs:12,children:[e.crear&&Object(f.jsx)(d.a,{type:"submit",children:"Crear"}),e.modificar&&Object(f.jsx)(d.a,{type:"submit",children:"Modificar"}),Object(f.jsx)(d.a,{type:"button",onClick:H,children:"Cerrar"})]})]})})]})},H=function(e){var t=Object(s.h)(),a=t.path,r=(t.url,Object(n.useState)([])),c=Object(o.a)(r,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){O.a.get("/api/animales").then((function(e){return l(e.data.data)})).catch((function(e){return m.a.fire("Error al obtener los datos","Ha ocurrido un problema al intentar obtener el listado de animales","error")}))}),[]),Object(f.jsx)(v.a,{children:Object(f.jsx)(j.a,{children:Object(f.jsxs)(s.c,{children:[Object(f.jsx)(s.a,{exact:!0,path:a,children:Object(f.jsx)(p,{datos:i,setDatos:l})}),Object(f.jsx)(s.a,{path:"".concat(a,"/crear"),children:Object(f.jsx)(k,{crear:!0,datos:i,setDatos:l})}),Object(f.jsx)(s.a,{path:"".concat(a,"/modificar/:id"),children:Object(f.jsx)(k,{modificar:!0,datos:i,setDatos:l})}),Object(f.jsx)(s.a,{path:"".concat(a,"/ver/:id"),children:Object(f.jsx)(k,{ver:!0})})]})})})},_=function(){var e=Object(s.f)(),t=Object(n.useState)({email:"",password:""}),a=Object(o.a)(t,2),r=a[0],c=a[1],i=function(e){var t=e.target,a=t.name,n=t.value;c(Object(C.a)(Object(C.a)({},r),{},Object(g.a)({},a,n)))};return Object(f.jsxs)(y.a,{children:[Object(f.jsx)(v.a,{children:Object(f.jsx)("h1",{children:"Login"})}),Object(f.jsx)(E.a,{onSubmit:function(t){t.preventDefault(),O.a.post("/login",r).then((function(t){t.data&&!t.data.error?e.push("/animales"):m.a.fire("Error",t.data.mensaje,"error")}))},children:Object(f.jsxs)(v.a,{children:[Object(f.jsx)(l.a,{xs:12,children:Object(f.jsxs)(w.a,{children:[Object(f.jsx)(D.a,{for:"email",children:"Email"}),Object(f.jsx)(S.a,{type:"text",name:"email",value:r.email,onChange:i,required:!0})]})}),Object(f.jsx)(l.a,{xs:12,children:Object(f.jsxs)(w.a,{children:[Object(f.jsx)(D.a,{for:"password",children:"Password"}),Object(f.jsx)(S.a,{type:"password",name:"password",value:r.password,onChange:i,required:!0})]})}),Object(f.jsx)(l.a,{xs:12,children:Object(f.jsx)(d.a,{type:"submit",children:"Ingresar"})})]})})]})};var q=function(){return Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(j.a,{children:Object(f.jsxs)(s.c,{children:[Object(f.jsx)(s.a,{exact:!0,path:"/",children:Object(f.jsx)(_,{})}),Object(f.jsx)(s.a,{path:"/animales",children:Object(f.jsx)(H,{})})]})})})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,97)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};a(87);i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(q,{})}),document.getElementById("root")),F()}},[[88,1,2]]]);
//# sourceMappingURL=main.37f29d75.chunk.js.map